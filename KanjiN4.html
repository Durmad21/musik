<html lang="id">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tebak Kanji</title>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@400;700&display=swap">
    <style>
      body {
        font-family: 'Noto Sans JP', sans-serif;
        text-align: center;
        padding: 20px;
        background: linear-gradient(to right, #FFB6C1, #FF6347);
        background-size: cover;
        color: white;
        min-height: 100vh;
        margin: 0;
      }

      h1 {
        color: #FFFF00;
        font-size: 50px;
        font-weight: bold;
        text-shadow: 2px 2px 5px rgba(0, 0, 0, 0.3);
      }

      #question-container {
        background-color: rgba(0, 0, 0, 0.2);
        padding: 20px;
        border-radius: 15px;
      }

      .question {
        font-size: 39px;
        margin-bottom: 20px;
        color: yellow;
        font-weight: bold;
        text-shadow: 2px 2px 5px rgba(0, 0, 0, 0.3);
      }

      .kanji {
        font-size: 85px;
        margin-bottom: 80px;
        color: black;
      }

      .choices {
        display: flex;
        flex-direction: column;
        align-items: center;
      }

      .choice {
        background-color: #4CAF50;
        color: white;
        padding: 10px;
        margin: 10px;
        width: 90%;
        max-width: 350px;
        border: none;
        border-radius: 25px;
        cursor: pointer;
        font-size: 22px;
        transition: transform 0.2s ease;
      }

      .choice:hover {
        transform: scale(1.1);
      }

      .choice:active {
        transform: scale(0.95);
      }

      .result {
        font-size: 25px;
        margin-top: 20px;
      }

      .next-btn {
        margin-top: 10px;
        background-color: #008CBA;
        color: white;
        padding: 10px 15px;
        border: none;
        border-radius: 20px;
        cursor: pointer;
      }

      .next-btn:hover {
        background-color: #005f73;
      }

      .lives {
        font-size: 24px;
        color: red;
        margin-bottom: 20px;
      }

/* New Back Button */
     .back-btn {
       position: fixed;
       bottom: 50px;
       right: 20px;
       background-color: #008CBA;
       color: white;
       padding: 15px 20px;
       border: none;
       border-radius: 20px;
       cursor: pointer;
     }
     
     .back-btn:hover {
       background-color: #d32f2f;
     }

      /* Media Query untuk layar kecil (handphone) */
      @media (max-width: 600px) {
        h1 {
          font-size: 36px;
        }

        .question {
          font-size: 30px;
        }

        .kanji {
          font-size: 65px;
        }

        .choice {
          font-size: 20px;
          width: 80%;
        }

        .result {
          font-size: 25px;
          font-weight: bold;
          text-shadow: 2px 2px 5px rgba(0, 0, 0, 0.9);
        }

        .next-btn {
          font-size: 18px;
          padding: 8px 12px;
        }

        /* Kembali Button Style Adjustments for small screens */
        .back-btn {
          font-size: 18px;
          padding: 8px 12px;
        }
      }

      /* Media Query untuk layar ekstra kecil (handphone sangat kecil) */
      @media (max-width: 375px) {
        h1 {
          font-size: 30px;
        }

        .question {o
          font-size: 26px;
        }

        .kanji {
          font-size: 55px;
        }

        .choice {
          font-size: 18px;
          width: 90%;
        }

        .result {
          font-size: 20px;
        }

        .next-btn {
          font-size: 16px;
          padding: 8px 10px;
        }

        .back-btn {
          font-size: 16px;
          padding: 8px 10px;
        }
      }
    </style>
  </head>
  <body>
    <h1>Tebak Kanji</h1>
    <div id="question-container">
      <p class="question" id="question"> <span id="kanji" class="kanji"></span></p>
      <div class="lives" id="lives">‚ù§Ô∏è‚ù§Ô∏è</div>
      <div class="choices" id="choices"></div>
      <div class="result" id="result"></div>
      <button class="back-btn" onclick="window.location.href='https://adewij.github.io/musik/index.html';">Kembali</button>
      <button class="next-btn" id="next-btn" style="display: none;">Lanjut</button>

    <!-- Audio autoplay loop -->
    <audio id="background-audio" loop>
      <source src="https://adewij.github.io/Adewij/backsound.mp3" type="audio/mpeg">
      Your browser does not support the audio element.
    </audio>

    <script>
      const correctAudio = new Audio('https://adewij.github.io/Adewij/correct.mp3');
      const wrongAudio = new Audio('https://adewij.github.io/Adewij/wrong.mp3');
      const backgroundAudio = document.getElementById('background-audio');
      document.body.addEventListener('click', () => {
        if (backgroundAudio.paused) {
          backgroundAudio.play().catch((error) => {
            console.error("Audio cannot be played automatically:", error);
          });
        }
      })
        const kanjiList = [
          { kanji: 'Ë®Ä', answer: 'Kata', romaji: 'Gen / Gon' },
          { kanji: 'Êâã', answer: 'Tangan', romaji: 'Te' },
          { kanji: 'Ëá™', answer: 'Diri', romaji: 'Ji' },
          { kanji: 'ËÄÖ', answer: 'Orang', romaji: 'Sha' },
          { kanji: '‰∫ã', answer: 'Perkara', romaji: 'Koto' },
          { kanji: 'ÊÄù', answer: 'Berpikir', romaji: 'Omou' },
          { kanji: '‰ºö', answer: 'Bertemu', romaji: 'Kai' },
          { kanji: 'ÂÆ∂', answer: 'Rumah', romaji: 'Ie / Ka' },
          { kanji: 'ÁöÑ', answer: 'Tanda', romaji: 'Teki' },
          { kanji: 'Êñπ', answer: 'Arah', romaji: 'Hou / Kata' },
          { kanji: 'Âú∞', answer: 'Tanah', romaji: 'Chi' },
          { kanji: 'ÁõÆ', answer: 'Mata', romaji: 'Me' },
          { kanji: 'Â†¥', answer: 'Tempat', romaji: 'Ba' },
          { kanji: '‰ª£', answer: 'Wakil', romaji: 'Dai / Tai' },
          { kanji: 'ÁßÅ', answer: 'Saya', romaji: 'Watashi / Shi' },
          { kanji: 'Á´ã', answer: 'Berdiri', romaji: 'Tatsu / Ritsu' },
          { kanji: 'Áâ©', answer: 'Barang', romaji: 'Mono / Butsu' },
          { kanji: 'Áî∞', answer: 'Sawah', romaji: 'Ta' },
          { kanji: '‰Ωì', answer: 'Tubuh', romaji: 'Karada' },
          { kanji: 'Âãï', answer: 'Bergerak', romaji: 'Ugoku / Dou' },
          { kanji: 'Á§æ', answer: 'Perusahaan', romaji: 'Sha' },
          { kanji: 'Áü•', answer: 'Tahu', romaji: 'Shiru / Chi' },
          { kanji: 'ÁêÜ', answer: 'Alasan', romaji: 'Riyuu / Ri' },
          { kanji: 'Âêå', answer: 'Sama', romaji: 'Dou' },
          { kanji: 'ÂøÉ', answer: 'Hati', romaji: 'Kokoro' },
          { kanji: 'Áô∫', answer: 'Keluar', romaji: 'Hatsu / Hotsu' },
          { kanji: '‰Ωú', answer: 'Membuat', romaji: 'Saku / Saku' },
          { kanji: 'Êñ∞', answer: 'Baru', romaji: 'Shin' },
          { kanji: '‰∏ñ', answer: 'Dunia', romaji: 'Se' },
          { kanji: 'Â∫¶', answer: 'Derajat', romaji: 'Do / Toku' },
          { kanji: 'Êòé', answer: 'Terang', romaji: 'Mei / Myou' },
          { kanji: 'Âäõ', answer: 'Kekuatan', romaji: 'Chikara' },
          { kanji: 'ÊÑè', answer: 'Niat', romaji: 'I' },
          { kanji: 'Áî®', answer: 'Menggunakan', romaji: 'You' },
          { kanji: '‰∏ª', answer: 'Utama', romaji: 'Shu / Su' },
          { kanji: 'ÈÄö', answer: 'Melalui', romaji: 'Tooru / Tsuu' },
          { kanji: 'Êñá', answer: 'Kalimat', romaji: 'Bun / Mon' },
          { kanji: 'Â±ã', answer: 'Toko', romaji: 'Ya' },
          { kanji: 'Ê•≠', answer: 'Pekerjaan', romaji: 'Gyou / Waku' },
          { kanji: 'ÊåÅ', answer: 'Memegang', romaji: 'Mochi' },
          { kanji: 'ÈÅì', answer: 'Jalan', romaji: 'Michi / Dou' },
          { kanji: 'Ë∫´', answer: 'Tubuh', romaji: 'Mi' },
          { kanji: '‰∏ç', answer: 'Tidak', romaji: 'Fu' },
          { kanji: 'Âè£', answer: 'Mulut', romaji: 'Kuchi' },
          { kanji: 'Â§ö', answer: 'Banyak', romaji: 'Oo / Ta' },
          { kanji: 'Èáé', answer: 'Lapangan', romaji: 'No / Ya' },
          { kanji: 'ËÄÉ', answer: 'Berpikir', romaji: 'Kangaeru' },
          { kanji: 'Èñã', answer: 'Membuka', romaji: 'Hiraku / Kai' },
          { kanji: 'Êïô', answer: 'Mengajar', romaji: 'Oshieru / Kyou' },
          { kanji: 'Ëøë', answer: 'Dekat', romaji: 'Chikai / Kin' },
          { kanji: '‰ª•', answer: 'Dengan', romaji: 'I' },
          { kanji: 'Âïè', answer: 'Tanya', romaji: 'To / Mon' },
          { kanji: 'Ê≠£', answer: 'Benar', romaji: 'Sei / Shou' },
          { kanji: 'Áúü', answer: 'Benar', romaji: 'Shin' },
          { kanji: 'Âë≥', answer: 'Rasa', romaji: 'Aji' },
          { kanji: 'Áïå', answer: 'Dunia', romaji: 'Kai' },
          { kanji: 'ÁÑ°', answer: 'Tidak ada', romaji: 'Mu' },
          { kanji: 'Â∞ë', answer: 'Sedikit', romaji: 'Shou / Suku' },
          { kanji: 'Êµ∑', answer: 'Laut', romaji: 'Umi' },
          { kanji: 'Âàá', answer: 'Memotong', romaji: 'Setsu / Kiri' },
          { kanji: 'Èáç', answer: 'Berat', romaji: 'Omoi / Ju' },
          { kanji: 'ÈõÜ', answer: 'Kumpul', romaji: 'Atsumeru / Shuu' },
          { kanji: 'Âì°', answer: 'Anggota', romaji: 'In' },
          { kanji: 'ÂÖ¨', answer: 'Umum', romaji: 'Kou' },
          { kanji: 'Áîª', answer: 'Gambar', romaji: 'Kaku' },
          { kanji: 'Ê≠ª', answer: 'Mati', romaji: 'Shi' },
          { kanji: 'ÂÆâ', answer: 'Aman', romaji: 'Yasu / An' },
          { kanji: 'Ë¶™', answer: 'Orang tua', romaji: 'Shin / Oya' },
          { kanji: 'Âº∑', answer: 'Kuat', romaji: 'Kyou / Gyou' },
          { kanji: '‰Ωø', answer: 'Menggunakan', romaji: 'Tsukau / Shi' },
          { kanji: 'Êúù', answer: 'Pagi', romaji: 'Asa / Chou' },
          { kanji: 'È°å', answer: 'Topik', romaji: 'Dai' },
          { kanji: '‰ªï', answer: 'Melakukan', romaji: 'Shi' },
          { kanji: '‰∫¨', answer: 'Ibukota', romaji: 'Kyou / Kei' },
          { kanji: 'Ë∂≥', answer: 'Kaki', romaji: 'Ashi / Soku' },
          { kanji: 'ÂìÅ', answer: 'Barang', romaji: 'Hin' },
          { kanji: 'ÁùÄ', answer: 'Pakai', romaji: 'Chaku / Kuru' },
          { kanji: 'Âà•', answer: 'Pemisah', romaji: 'Betsu' },
          { kanji: 'Èü≥', answer: 'Suara', romaji: 'Oto / On' },
          { kanji: 'ÂÖÉ', answer: 'Asal', romaji: 'Moto / Gen' },
          { kanji: 'Áâπ', answer: 'Khusus', romaji: 'Toku' },
          { kanji: 'È¢®', answer: 'Angin', romaji: 'Kaze / Fuu' },
          { kanji: 'Â§ú', answer: 'Malam', romaji: 'Yoru / Ya' },
          { kanji: 'Á©∫', answer: 'Langit', romaji: 'Sora / Ku' },
          { kanji: 'Êúâ', answer: 'Ada', romaji: 'Aru / Yu' },
          { kanji: 'Ëµ∑', answer: 'Bangun', romaji: 'Okiru / Ki' },
          { kanji: 'ÈÅã', answer: 'Nasib', romaji: 'Un' },
          { kanji: 'Êñô', answer: 'Biaya', romaji: 'Ryou' },
          { kanji: 'Ê•Ω', answer: 'Menyenangkan', romaji: 'Raku / Gaku' },
          { kanji: 'Ëâ≤', answer: 'Warna', romaji: 'Iro / Shiki' },
          { kanji: 'Â∏∞', answer: 'Kembali', romaji: 'Kaeru / Ki' },
          { kanji: 'Ê≠©', answer: 'Berjalan', romaji: 'Aru / Ho' },
          { kanji: 'ÊÇ™', answer: 'Buruk', romaji: 'Warui / Aku' },
          { kanji: 'Â∫É', answer: 'Luas', romaji: 'Hiroi / Kou' },
          { kanji: 'Â∫ó', answer: 'Toko', romaji: 'Mise / Ten' },
          { kanji: 'Áî∫', answer: 'Kota', romaji: 'Machi' },
          { kanji: '‰Ωè', answer: 'Tinggal', romaji: 'Sumu' },
          { kanji: 'Â£≤', answer: 'Menjual', romaji: 'Uru' },
          { kanji: 'ÂæÖ', answer: 'Menunggu', romaji: 'Matsu' },
          { kanji: 'Âè§', answer: 'Tua', romaji: 'Furu' },
          { kanji: 'Âßã', answer: 'Mulai', romaji: 'Hajimeru' },
          { kanji: 'ÁµÇ', answer: 'Selesai', romaji: 'Owaru / Shu' },
          { kanji: 'Ë®à', answer: 'Menghitung', romaji: 'Kei' },
          { kanji: 'Èô¢', answer: 'Rumah Sakit', romaji: 'In' },
          { kanji: 'ÈÄÅ', answer: 'Mengirim', romaji: 'Okuru' },
          { kanji: 'Êóè', answer: 'Keluarga', romaji: 'Zoku' },
          { kanji: 'Êò†', answer: 'Memantulkan', romaji: 'Utsusu / Ei' },
          { kanji: 'Ë≤∑', answer: 'Membeli', romaji: 'Kau / Bai' },
          { kanji: 'ÁóÖ', answer: 'Sakit', romaji: 'Byou' },
          { kanji: 'Êó©', answer: 'Cepat', romaji: 'Hayai / Sou' },
          { kanji: 'Ë≥™', answer: 'Kualitas', romaji: 'Shitsu' },
          { kanji: 'Âè∞', answer: 'Panggung', romaji: 'Dai' },
          { kanji: 'ÂÆ§', answer: 'Ruangan', romaji: 'Shitsu' },
          { kanji: 'ÂèØ', answer: 'Boleh', romaji: 'Ka' },
          { kanji: 'Âª∫', answer: 'Membangun', romaji: 'Tateru / Ken' },
          { kanji: 'Ëª¢', answer: 'Berputar', romaji: 'Kuru / Ten' },
          { kanji: 'Âåª', answer: 'Dokter', romaji: 'I' },
          { kanji: 'Ê≠¢', answer: 'Berhenti', romaji: 'Tomeru / Shi' },
          { kanji: 'Â≠ó', answer: 'Huruf', romaji: 'Ji' },
          { kanji: 'Â∑•', answer: 'Kerja', romaji: 'Kou' },
          { kanji: 'ÊÄ•', answer: 'Cepat', romaji: 'Isogu / Kyu' },
          { kanji: 'Âõ≥', answer: 'Gambar', romaji: 'Zu / To' },
          { kanji: 'Èªí', answer: 'Hitam', romaji: 'Kuro' },
          { kanji: 'Ëä±', answer: 'Bunga', romaji: 'Hana' },
          { kanji: 'Ëã±', answer: 'Inggris', romaji: 'Ei' },
          { kanji: 'Ëµ∞', answer: 'Lari', romaji: 'Hashiru' },
          { kanji: 'Èùí', answer: 'Biru', romaji: 'Ao' },
          { kanji: 'Á≠î', answer: 'Jawaban', romaji: 'Kotae' },
          { kanji: 'Á¥ô', answer: 'Kertas', romaji: 'Kami' },
          { kanji: 'Ê≠å', answer: 'Lagu', romaji: 'Uta' },
          { kanji: 'Ê≥®', answer: 'Menambahkan', romaji: 'Chuu' },
          { kanji: 'Ëµ§', answer: 'Merah', romaji: 'Aka' },
          { kanji: 'Êò•', answer: 'Musim Semi', romaji: 'Haru' },
          { kanji: 'È§®', answer: 'Gedung', romaji: 'Kan' },
          { kanji: 'ÊóÖ', answer: 'Perjalanan', romaji: 'Tabi' },
          { kanji: 'È®ì', answer: 'Pengalaman', romaji: 'Ken' },
          { kanji: 'ÂÜô', answer: 'Menyalin', romaji: 'Utsusu / Sha' },
          { kanji: 'Âéª', answer: 'Pergi', romaji: 'Suru / Kyo' },
          { kanji: 'Á†î', answer: 'Mempelajari', romaji: 'Ken' },
          { kanji: 'È£≤', answer: 'Minum', romaji: 'Nomu' },
          { kanji: 'ËÇâ', answer: 'Daging', romaji: 'Niku' },
          { kanji: 'Êúç', answer: 'Pakaian', romaji: 'Fuku' },
          { kanji: 'ÈäÄ', answer: 'Perak', romaji: 'Gin' },
          { kanji: 'Ëå∂', answer: 'Teh', romaji: 'Cha' },
          { kanji: 'Á©∂', answer: 'Menyelidiki', romaji: 'Kyuu' },
          { kanji: 'Ê¥ã', answer: 'Barat', romaji: 'You' },
          { kanji: 'ÂÖÑ', answer: 'Kakak laki-laki', romaji: 'Ani' },
          { kanji: 'Áßã', answer: 'Musim Gugur', romaji: 'Aki' },
          { kanji: 'Â†Ç', answer: 'Hala', romaji: 'Dou' },
          { kanji: 'ÈÄ±', answer: 'Minggu', romaji: 'Shuu' },
          { kanji: 'Áøí', answer: 'Belajar', romaji: 'Shuu' },
          { kanji: 'Ë©¶', answer: 'Menguji', romaji: 'Shiken' },
          { kanji: 'Â§è', answer: 'Musim Panas', romaji: 'Natsu' },
          { kanji: 'Âºü', answer: 'Adik laki-laki', romaji: 'Otouto' },
          { kanji: 'È≥•', answer: 'Burung', romaji: 'Tori' },
          { kanji: 'Áä¨', answer: 'Anjing', romaji: 'Inu' },
          { kanji: 'Â§ï', answer: 'Sore', romaji: 'Yuu' },
          { kanji: 'È≠ö', answer: 'Ikan', romaji: 'Sakana' },
          { kanji: 'ÂÄü', answer: 'Meminjam', romaji: 'Kariru' },
          { kanji: 'È£Ø', answer: 'Nasi', romaji: 'Meshi' },
          { kanji: 'ÈßÖ', answer: 'Stasiun', romaji: 'Eki' },
          { kanji: 'Êòº', answer: 'Siang', romaji: 'Hiru' },
          { kanji: 'ÂÜ¨', answer: 'Musim Dingin', romaji: 'Fuyu' },
          { kanji: 'Âßâ', answer: 'Kakak perempuan', romaji: 'Ane' },
          { kanji: 'Êõú', answer: 'Hari', romaji: 'You' },
          { kanji: 'Êº¢', answer: 'Tionghoa', romaji: 'Kan' },
          { kanji: 'Áâõ', answer: 'Sapi', romaji: 'Ushi' },
          { kanji: 'Â¶π', answer: 'Adik perempuan', romaji: 'Imouto' },
          { kanji: 'Ë≤∏', answer: 'Meminjamkan', romaji: 'Kashiru' },
          { kanji: 'Âãâ', answer: 'Belajar', romaji: 'Ben' }
        ];
        
         const wrongAnswers = [
          'Satu', 'Belajar', 'Mulut', 'Mobil', 'Pohon', 'Laki-laki', 'Apa', 'Atas', 
          'Kaki', 'Kiri', 'Kanan', 'Putih', 'Bulan', 'Matahari', 'Hari', 'Minggu', 
          'Tahun', 'Bulan', 'Perempuan', 'Teman', 'Keluarga', 'Anak', 'Ayah', 'Ibu', 
          'Tempat', 'Orang', 'Alat', 'Pekerjaan', 'Kehidupan', 'Buka', 'Tutup', 'Makan', 
          'Minum', 'Tidur', 'Bekerja', 'Belajar', 'Berbicara', 'Mendengar', 'Melihat', 
          'Pergi', 'Datang', 'Kembali', 'Lihat', 'Berjalan', 'Menggunakan', 'Membawa', 
          'Menulis', 'Membaca', 'Menanyakan', 'Menerima', 'Membantu', 'Menemui', 'Mencari', 
          'Menjadi', 'Berada', 'Ada', 'Tidak ada', 'Sampai', 'Setelah', 'Sebelum', 'Sekarang', 
          'Besok', 'Kemarin', 'Minggu depan', 'Tadi', 'Tadi malam', 'Setiap', 'Kemudian', 
          'Tepat', 'Sama', 'Berbeda', 'Kecil', 'Besar', 'Tinggi', 'Pendek', 'Lebar', 'Sempit', 
          'Panjang', 'Singkat', 'Penuh', 'Kosong', 'Sempurna', 'Salah', 'Benar', 'Baik', 'Buruk', 
          'Cepat', 'Lambat', 'Dingin', 'Panas', 'Lembut', 'Keras', 'Mudah', 'Sulit', 'Mahal', 
          'Murah', 'Jauh', 'Dekat', 'Bagus', 'Banyak', 'Sedikit', 'Baru', 'Lama', 'Tua', 'Muda', 
          'Bersih', 'Kotor', 'Cantik', 'Tampan', 'Jelek', 'Gugup', 'Santai', 'Kuat', 'Lemah', 
          'Pahit', 'Manis', 'Asin', 'Acid', 'Bitter', 'Lembut', 'Teaspoon', 'Garam', 'Ladang', 
          'Ruang', 'Sampel', 'Dapur', 'Kamar', 'Lantai', 'Badan', 'Buku', 'Baju', 'Sepatu', 
          'Meja', 'Kursi', 'Peralatan', 'Kunci', 'Pintu', 'Jendela', 'Dinding', 'Lantai', 
          'Langit', 'Bintang', 'Mata', 'Telinga', 'Hidung', 'Mulut', 'Muka', 'Tangan', 'Kaki', 
          'Lengan', 'Punggung', 'Perut', 'Dada', 'Kepala', 'Pakai', 'Sakit', 'Sehat', 'Tumbuh', 
          'Pernah', 'Sebelum', 'Besar', 'Penting', 'Meninggal', 'Bersyukur', 'Aman', 'Masih'
        ];
        
          let currentQuestionIndex = 0;
          let lives = 2;
          let correctAnswersCount = 0;
          let totalQuestions = kanjiList.length;
      
          function generateChoices(question) {
            const correctAnswer = question.answer;
            let randomWrongAnswers = [];
          
            // Untuk soal tipe angka
            if (question.type === 'angka') {
              while (randomWrongAnswers.length < 3) {
                const wrongAnswer = Math.floor(Math.random() * 10) + 2; // Pilihan angka antara 1-9
                if (!randomWrongAnswers.includes(wrongAnswer.toString()) && wrongAnswer !== correctAnswer) {
                  randomWrongAnswers.push(wrongAnswer.toString());
                }
              }
            } 
            // Untuk soal tipe hari
            else if (question.type === 'hari') {
              const days = ['Senin', 'Selasa', 'Rabu', 'Kamis', 'Jumat', 'Sabtu', 'Minggu'];
              while (randomWrongAnswers.length < 3) {
                const wrongAnswer = days[Math.floor(Math.random() * days.length)];
                if (!randomWrongAnswers.includes(wrongAnswer) && wrongAnswer !== correctAnswer) {
                  randomWrongAnswers.push(wrongAnswer);
                }
              }
            } 
            // Untuk soal tipe bulan
            else if (question.type === 'bulan') {
              const months = ['Januari', 'Februari', 'Maret', 'April', 'Mei', 'Juni', 'Juli', 'Agustus', 'September', 'Oktober', 'November', 'Desember'];
              while (randomWrongAnswers.length < 3) {
                const wrongAnswer = months[Math.floor(Math.random() * months.length)];
                if (!randomWrongAnswers.includes(wrongAnswer) && wrongAnswer !== correctAnswer) {
                  randomWrongAnswers.push(wrongAnswer);
                }
              }
            } 
            // Untuk soal tipe lain
            else {
              while (randomWrongAnswers.length < 3) {
                const wrongAnswer = wrongAnswers[Math.floor(Math.random() * wrongAnswers.length)];
                if (!randomWrongAnswers.includes(wrongAnswer) && wrongAnswer !== correctAnswer) {
                  randomWrongAnswers.push(wrongAnswer);
                }
              }
            }
          
            // Gabungkan jawaban benar dan salah lalu acak
            const choices = [...randomWrongAnswers, correctAnswer];
            return shuffle(choices);
          }
          
          function shuffle(arr) {
            for (let i = arr.length - 1; i > 0; i--) {
              const j = Math.floor(Math.random() * (i + 1));
              [arr[i], arr[j]] = [arr[j], arr[i]];
            }
            return arr;
          }
      
          function displayQuestion() {
            const question = kanjiList[currentQuestionIndex];
            document.getElementById('kanji').textContent = question.kanji;
            const choices = generateChoices(question);
      
            const choicesContainer = document.getElementById('choices');
            choicesContainer.innerHTML = '';
      
            choices.forEach((choice) => {
              const button = document.createElement('button');
              button.classList.add('choice');
              button.textContent = choice;
              button.onclick = () => checkAnswer(choice, question);
              choicesContainer.appendChild(button);
            });
          }
      
          function checkAnswer(selectedAnswer, question) {
            if (selectedAnswer === question.answer) {
              correctAudio.play();
              document.getElementById('result').innerHTML = `‚úÖ Yeeay Benar...ü•≥ <br> ${question.romaji}`;
              correctAnswersCount++;
            } else {
              wrongAudio.play();
              lives--;
              document.getElementById('result').innerHTML = '‚ùå Uupps Salah...üòî';
              document.getElementById('lives').textContent = '‚ù§Ô∏è'.repeat(lives);
            }
      
            if (lives <= 0) {
              nextQuestion(); // Lanjutkan soal setelah nyawa habis
            } else {
              document.getElementById('next-btn').style.display = 'block'; // Tombol lanjutkan tampil
            }
          }
          
          function nextQuestion() {
            // Setiap kali soal baru dimulai, reset nyawa ke 2
            lives = 2;
            document.getElementById('lives').textContent = '‚ù§Ô∏è‚ù§Ô∏è'; // Reset tampilan nyawa
          
            if (currentQuestionIndex < kanjiList.length - 1) {
              currentQuestionIndex++;
              displayQuestion();
              document.getElementById('result').textContent = '';
              document.getElementById('next-btn').style.display = 'none';
            } else {
              showFinalResult();
            }
          }
      
          function showFinalResult() {
            const score = Math.floor((correctAnswersCount / totalQuestions) * 100);
            const resultText = `Kuis selesai! üéâ<br> Benar:  dari  ${totalQuestions}soal. <br> Skor: ${score}%`;
            const passOrFail = score >= 80 ? 'üéì Selamat Anda Lulus!' : '‚ùå Maaf Anda Belum Lulus, Belajar Lagi Ya!';
            document.getElementById('result').innerHTML = resultText + `<br>${passOrFail}`;
      
            document.getElementById('next-btn').textContent = 'Belajar Ulang';
            document.getElementById('next-btn').onclick = restartQuiz;
            document.getElementById('next-btn').style.display = 'block';
          }
      
          function restartQuiz() {
            currentQuestionIndex = 0;
            lives = 2;
            correctAnswersCount = 0;
            document.getElementById('lives').textContent = '‚ù§Ô∏è‚ù§Ô∏è';
            document.getElementById('next-btn').textContent = 'Lanjut';
            document.getElementById('next-btn').onclick = nextQuestion;
            displayQuestion();
            document.getElementById('result').textContent = '';
            document.getElementById('next-btn').style.display = 'none';
          }
      
          document.addEventListener("DOMContentLoaded", () => {
            displayQuestion();
            document.getElementById('next-btn').onclick = nextQuestion;
          });
        </script>
      </body>
      </html>